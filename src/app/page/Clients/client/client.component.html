
<app-dealstableheader></app-dealstableheader>

<!-- Client Table -->
<div class="overflow-x-auto bg-white rounded-xl shadow-lg p-6 border border-gray-300">
    <table class="min-w-full text-sm text-gray-800 table-auto">
      <thead class="bg-gradient-to-r from-teal-400 to-blue-600 text-xs uppercase text-white sticky top-0 z-10">
        <tr>
          <th class="px-6 py-5 font-semibold text-center align-middle">Client Name</th>
          <th class="px-6 py-5 font-semibold text-center align-middle"> Name</th>
          <th class="px-6 py-5 font-semibold text-center align-middle"> Email</th>
          <th class="px-6 py-5 font-semibold text-center align-middle">Contact No</th>
          <th class="px-6 py-5 font-semibold text-center align-middle">Company Address</th>
          <th class="px-6 py-5 font-semibold text-center align-middle">Service Name</th>
          <th class="px-6 py-5 font-semibold text-center align-middle">Date</th>
          <th class="px-6 py-5 font-semibold text-center align-middle">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let client of staticClients; let i = index"
            [ngClass]="{
              'bg-gray-50': i % 2 === 0,
              'bg-white': i % 2 !== 0
            }"
            class="hover:bg-gray-100 transition duration-200 ease-in-out border-b border-gray-300 text-center">
          <td class="px-6 py-5 align-middle">{{ client.clientName }}</td>
          <td class="px-6 py-5 align-middle">{{ client.clientEmail }}</td>
          <td class="px-6 py-5 align-middle">{{ client.contactNo }}</td>
          <td class="px-6 py-5 align-middle">{{ client.companyName }}</td>
          <td class="px-6 py-5 align-middle">{{ client.companyAdd }}</td>
          <td class="px-6 py-5 align-middle">{{ client.sourceType }}</td>
          <!-- <td class="px-6 py-5 align-middle">{{ client.crmService?.serviceName }}</td> -->
          <td class="px-6 py-5 align-middle">{{ client.timeDate | date: 'dd MMM yyyy, hh:mm a' }}</td>
          <td class="px-6 py-5 align-middle">
            <div *ngIf="client.status === 'NEW_CLIENT'; else staticStatus">
              <select
                [(ngModel)]="client.status"
                (change)="onStatusChange(client)"
                class="appearance-none bg-blue-100 text-blue-800 border border-blue-300 px-2 py-1 rounded-md text-xs font-semibold shadow-sm focus:outline-none"
              >
                <option value="NEW_CLIENT">NEW CLIENT</option>
                <option value="ACTIVE">ACTIVE</option>
              </select>
            </div>
        
            <ng-template #staticStatus>
              <span
                class="inline-block px-2 py-1 rounded text-xs font-semibold"
                [ngClass]="getBadgeClass(client.status)"
              >
                {{ client.status }}
              </span>
            </ng-template>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
<app-pagination></app-pagination>